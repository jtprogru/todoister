# todoister

[![pytesting workflow](https://github.com/jtprogru/todoister/actions/workflows/build-test.yml/badge.svg)](https://github.com/jtprogru/todoister/actions/workflows/build-test.yml)
[![release](https://github.com/jtprogru/todoister/actions/workflows/release.yml/badge.svg)](https://github.com/jtprogru/todoister/actions/workflows/release.yml)
[![MIT License](https://img.shields.io/apm/l/atomic-design-ui.svg?)](https://github.com/tterb/atomic-design-ui/blob/master/LICENSEs)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![wemake-python-styleguide](https://img.shields.io/badge/style-wemake-000000.svg)](https://github.com/wemake-services/wemake-python-styleguide)


Simple project written with FastAPI just for fun :smile:

This project was generated via [manage-fastapi](https://github.com/ycd/manage-fastapi/)! :tada:

## Environment Variables

To run this project, you will need to add the following environment variables to your `.env` file:

- `PROJECT_NAME` – project name for documentation
- `PROJECT_DESCRIPTION` – project description for documentation
- `SERVER_HOST` – IP address/interface for running application
- `SERVER_PORT` – port for running application
- `LOG_LEVEL` – logging level
- `DEBUG` – enable debug
- `DATABASE_URI` – path to SQLite DB
- `JWT_SECRET` – secret for JWT

## Run Locally

Clone the project

```bash
git clone https://github.com/jtprogru/todoister.git
```

Go to the project directory

```bash
cd todoister
```

Generate `.env` by this command

```bash
make default-env
```

Install dependencies

```bash
make install-dev-deps
```

Start the server

```bash
make server
```

Alternative run server

```bash
cd src
uvicorn app.main:app --reload --env-file .env
```

## FAQ

### 1. How generate requirements.txt?

`requirements.txt` can be generated by following command:

```bash
poetry export -f requirements.txt --output requirements.txt --dev --without-hashes
```

### 2. How generate new migrations with Alembic?

New migrations with Alembic can be generated by following command:

```bash
cd src
poetry run alembic revision --autogenerate -m "<Migrations name>"
```

### 3. How to apply generated migrations?

All migrations can be applied by following command:

```bash
cd src
poetry run alembic upgrade head
```

## Running Tests, Flake8 and Black[d]

To run tests, run the following command

```bash
poetry run pytest
```
---
To run flake8 checks, run the following command

```bash
poetry run flake8 src/
```
---
To run black[d] as daemon use following command

```bash
poetry run blackd --bind-host localhost --bind-port 45484
```
And use this plugin for PyCharm – [BlackConnect](https://plugins.jetbrains.com/plugin/14321-blackconnect)

## Roadmap

- [x] Add Alembic for migrations;
- [ ] Migrate from SQLite to PostgreSQL;
- [ ] Add router for Todo;
- [ ] Add tags model and schema;
- [ ] Deploy demo to Heroku;

## Feedback

If you have any feedback, please reach out to us at [issues](https://github.com/jtprogru/todoister/issues) or [telegram-chat](https://t.me/jtprogru_chat).

## Authors

- Michael Savin
  - :octocat: [@jtprogru](https://www.github.com/jtprogru)
  - :bird: [@jtprogru](https://www.twitter.com/jtprogru)
  - :moneybag: [savinmi.ru](https://savinmi.ru)

## Contributing

See [CONTRIBUTING.md](docs/CONTRIBUTING.md)

## License

[MIT](LICENSE)
